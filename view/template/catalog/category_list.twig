{{ header }}{{ navigation }}
<!--Main layout-->
<main style="margin-top: 58px" class="pt-3">
  <div class="container-fluid">
	{% for category in categories %}
	<label class="d-flex category cursor-pointer p-1">
	  <div class="flex-fill">{{ category.path }}</div>
	  <div><input class="form-check-input category-check" type="checkbox" id="{{ category.category_id }}" value="1" {% if user_categories[category.category_id] %}checked{% endif %} /></div>
	</label>
	{% endfor %}
	<div class="row mt-3">
	  <div class="col-sm-6 text-start">{{ pagination }}</div>
	  <div class="col-sm-6 text-end">{{ results }}</div>
	</div>
  </div>
</main>
{{ footer }}
<script>
$('.category-check').change(function(e) {
  let url = '';
  
  if(e.currentTarget.checked) {
	url += '{{ server }}index.php?route=catalog/category.enableCategory&user_token={{ user_token }}';
  } else {
    url += '{{ server }}index.php?route=catalog/category.disableCategory&user_token={{ user_token }}';
  }
  
  url += '&category_id=' + e.currentTarget.id;
  
  $.ajax({
	url: url
  });
});
</script>
<style>
.category:hover {
  background-color: rgb(0, 0, 0, 0.05);
}
</style>